<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Payment - Jasa Sarawak</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">Jasa Sarawak</div>
        <a href="index.html" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Main Page
        </a>
    </nav>

    <section class="payment-page">
        <div class="payment-container">
            <div class="order-summary">
                <div class="summary-header">
                    <h2>Order Summary</h2>
                    <div class="booking-type">
                        <i class="fas fa-ticket-alt"></i>
                        <span id="bookingTypeText">Conference Ticket</span>
                    </div>
                </div>
                <div class="summary-details">
                    <div class="summary-item" id="itemDetails">
                        <!-- Will be filled by JavaScript -->
                    </div>
                    <div class="summary-total">
                        <span>Total Amount:</span>
                        <span class="total-amount" id="totalAmount">MYR 0.00</span>
                    </div>
                </div>
            </div>

            <form class="payment-form" id="paymentForm">
                <div class="form-header">
                    <h2>Payment Details</h2>
                    <p>Please fill in your information to complete the booking</p>
                </div>

                <div class="form-section">
                    <h3>Personal Information</h3>
                    <div class="form-grid">
                        <div class="input-group">
                            <label for="name">Full Name*</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="input-group">
                            <label for="id">ID/Passport Number*</label>
                            <input type="text" id="id" name="id" required>
                        </div>
                        <div class="input-group">
                            <label for="country">Country*</label>
                            <select id="country" name="country" required>
                                <option value="">Select Country</option>
                                <option value="MY">Malaysia</option>
                                <option value="SG">Singapore</option>
                                <option value="ID">Indonesia</option>
                                <option value="BN">Brunei</option>
                                <!-- Add more countries as needed -->
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="phone">Contact Number*</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        <div class="input-group">
                            <label for="email">Email Address*</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="input-group">
                            <label for="company">Company/Organization</label>
                            <input type="text" id="company" name="company">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Payment Method</h3>
                    <div class="payment-methods">
                        <div class="payment-method-options">
                            <label class="payment-option">
                                <input type="radio" name="payment_method" value="credit_card" checked>
                                <span class="payment-option-content">
                                    <i class="fas fa-credit-card"></i>
                                    <span>Credit/Debit Card</span>
                                </span>
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="payment_method" value="bank_transfer">
                                <span class="payment-option-content">
                                    <i class="fas fa-university"></i>
                                    <span>Bank Transfer</span>
                                </span>
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="payment_method" value="e_wallet">
                                <span class="payment-option-content">
                                    <i class="fas fa-wallet"></i>
                                    <span>E-Wallet</span>
                                </span>
                            </label>
                        </div>

                        <div class="payment-details" id="creditCardDetails">
                            <div class="form-grid">
                                <div class="input-group full-width">
                                    <label for="card_number">Card Number*</label>
                                    <input type="text" id="card_number" name="card_number" placeholder="1234 5678 9012 3456">
                                </div>
                                <div class="input-group">
                                    <label for="expiry">Expiry Date*</label>
                                    <input type="text" id="expiry" name="expiry" placeholder="MM/YY">
                                </div>
                                <div class="input-group">
                                    <label for="cvv">CVV*</label>
                                    <input type="text" id="cvv" name="cvv" placeholder="123">
                                </div>
                                <div class="input-group full-width">
                                    <label for="card_name">Name on Card*</label>
                                    <input type="text" id="card_name" name="card_name">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Additional Services</h3>
                    <div class="additional-services">
                        <label class="service-option">
                            <input type="checkbox" name="chauffeur_service" id="chauffeurService">
                            <span class="service-content">
                                <div class="service-header">
                                    <i class="fas fa-car"></i>
                                    <span>Personal Chauffeur Service</span>
                                    <span class="service-price">MYR 50</span>
                                </div>
                                <p class="service-description">Enjoy convenient transportation with a personal chauffeur throughout your stay</p>
                            </span>
                        </label>
                    </div>
                </div>

                <div class="form-footer">
                    <div class="secure-payment">
                        <i class="fas fa-lock"></i>
                        <span>Your payment is secure and encrypted</span>
                    </div>
                    <button type="submit" class="submit-payment">
                        <i class="fas fa-check-circle"></i>
                        Complete Payment
                    </button>
                    <p class="terms-notice">
                        By completing this payment, you agree to our <a href="#">Terms & Conditions</a> and <a href="#">Privacy Policy</a>
                    </p>
                </div>
            </form>
        </div>
    </section>

    <style>
        .additional-services {
            margin: 1rem 0;
        }
        
        .service-option {
            display: block;
            margin: 1rem 0;
            cursor: pointer;
        }
        
        .service-option input[type="checkbox"] {
            display: none;
        }
        
        .service-content {
            display: block;
            padding: 1.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .service-option input[type="checkbox"]:checked + .service-content {
            border-color: #e63946;
            background-color: rgba(230, 57, 70, 0.05);
        }
        
        .service-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .service-header i {
            font-size: 1.5rem;
            color: #e63946;
        }
        
        .service-price {
            margin-left: auto;
            font-weight: bold;
            color: #e63946;
        }
        
        .service-description {
            margin: 0;
            color: #666;
            font-size: 0.9rem;
        }
    </style>

    <script>
        // Get URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const bookingType = urlParams.get('type');
        const itemId = urlParams.get('id');
        const price = urlParams.get('price');

        // Update booking type and details
        document.getElementById('bookingTypeText').textContent = 
            bookingType === 'hotel' ? 'Hotel Booking' : 'Conference Ticket';

        // Update summary details based on booking type
        const itemDetails = document.getElementById('itemDetails');
        const totalAmount = document.getElementById('totalAmount');

        if (bookingType === 'hotel') {
            // Display hotel booking details
            itemDetails.innerHTML = `
                <h3>${urlParams.get('name') || 'Hotel Booking'}</h3>
                <p>Check-in date will be confirmed after payment</p>
                <p class="price">MYR ${price || '0.00'} / night</p>
            `;
        } else {
            // Display ticket details
            itemDetails.innerHTML = `
                <h3>${urlParams.get('name') || 'Conference Ticket'}</h3>
                <p>October 20-23, 2025</p>
                <p class="price">MYR ${price || '0.00'}</p>
            `;
        }

        totalAmount.textContent = `MYR ${price || '0.00'}`;

        // Handle payment method selection
        const paymentMethods = document.querySelectorAll('input[name="payment_method"]');
        const creditCardDetails = document.getElementById('creditCardDetails');

        paymentMethods.forEach(method => {
            method.addEventListener('change', (e) => {
                if (e.target.value === 'credit_card') {
                    creditCardDetails.style.display = 'block';
                } else {
                    creditCardDetails.style.display = 'none';
                }
            });
        });

        // Handle chauffeur service selection
        const chauffeurService = document.getElementById('chauffeurService');
        const basePrice = parseFloat(price || 0);
        
        chauffeurService.addEventListener('change', (e) => {
            const additionalPrice = e.target.checked ? 50 : 0;
            const totalPrice = basePrice + additionalPrice;
            totalAmount.textContent = `MYR ${totalPrice.toFixed(2)}`;
        });

        // Update form submission to include chauffeur service
        document.getElementById('paymentForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(e.target);
            const paymentMethod = formData.get('payment_method');
            const hasChauffeur = formData.get('chauffeur_service') === 'on';
            const totalPrice = basePrice + (hasChauffeur ? 50 : 0);
            
            // Show loading state
            const submitButton = document.querySelector('.submit-payment');
            const originalButtonText = submitButton.innerHTML;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            submitButton.disabled = true;

            // Simulate payment processing
            setTimeout(() => {
                // Reset button state
                submitButton.innerHTML = originalButtonText;
                submitButton.disabled = false;

                // Show success message
                const paymentContainer = document.querySelector('.payment-container');
                paymentContainer.innerHTML = `
                    <div class="payment-success">
                        <i class="fas fa-check-circle success-icon"></i>
                        <h2>Payment Successful!</h2>
                        <p>Thank you for your booking. A confirmation email will be sent to ${formData.get('email')}.</p>
                        <div class="booking-details">
                            <h3>Booking Details</h3>
                            <p><strong>Reference Number:</strong> ${Math.random().toString(36).substr(2, 9).toUpperCase()}</p>
                            <p><strong>Amount Paid:</strong> MYR ${totalPrice.toFixed(2)}</p>
                            <p><strong>Payment Method:</strong> ${paymentMethod === 'credit_card' ? 'Credit/Debit Card' : 
                                                               paymentMethod === 'bank_transfer' ? 'Bank Transfer' : 'E-Wallet'}</p>
                            ${hasChauffeur ? '<p><strong>Additional Services:</strong> Personal Chauffeur Service</p>' : ''}
                        </div>
                        <div class="next-steps">
                            <h3>Next Steps</h3>
                            <ul>
                                <li>Check your email for booking confirmation</li>
                                <li>Save your reference number</li>
                                <li>Download your e-ticket (link will be in email)</li>
                                ${hasChauffeur ? '<li>Chauffeur service details will be included in your confirmation email</li>' : ''}
                            </ul>
                        </div>
                        <a href="index.html" class="return-home">
                            <i class="fas fa-home"></i> Return to Homepage
                        </a>
                    </div>
                `;

                // Add success styles
                const style = document.createElement('style');
                style.textContent = `
                    .payment-success {
                        text-align: center;
                        padding: 2rem;
                        background: white;
                        border-radius: 10px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    }
                    .success-icon {
                        font-size: 4rem;
                        color: #4CAF50;
                        margin-bottom: 1rem;
                    }
                    .booking-details, .next-steps {
                        text-align: left;
                        margin: 2rem 0;
                        padding: 1rem;
                        background: #f8f9fa;
                        border-radius: 5px;
                    }
                    .next-steps ul {
                        list-style-type: none;
                        padding: 0;
                    }
                    .next-steps li {
                        margin: 0.5rem 0;
                        padding-left: 1.5rem;
                        position: relative;
                    }
                    .next-steps li:before {
                        content: "→";
                        position: absolute;
                        left: 0;
                    }
                    .return-home {
                        display: inline-block;
                        margin-top: 2rem;
                        padding: 1rem 2rem;
                        background: #e63946;
                        color: white;
                        text-decoration: none;
                        border-radius: 5px;
                        transition: background 0.3s;
                    }
                    .return-home:hover {
                        background: #c1121f;
                    }
                `;
                document.head.appendChild(style);
            }, 2000); // Simulate 2 second processing time
        });
    </script>
</body>
</html> 